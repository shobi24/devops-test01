## üì¶ Go Monitoring Stack ‚Äì Project Structure Guide

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏ö Monitoring ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Go Application ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ  
**Prometheus + Grafana + Alertmanager + Docker**

‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡πà‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏∞‡πÑ‡∏£  

# üöÄ Go Monitoring Stack

‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥ **Monitoring ‡πÅ‡∏≠‡∏õ Go** ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ

- **Prometheus** ‚Üí ‡πÄ‡∏Å‡πá‡∏ö Metrics  
- **Grafana** ‚Üí ‡πÅ‡∏™‡∏î‡∏á Dashboard  
- **Alertmanager** ‚Üí ‡∏™‡πà‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏≤‡∏á Email  
- **Docker Compose** ‚Üí ‡∏£‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô

---

## üì¶ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ

‚úÖ ‡πÄ‡∏Å‡πá‡∏ö Metrics ‡∏à‡∏≤‡∏Å Go Application  
‚úÖ ‡∏°‡∏µ Dashboard Grafana ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (Auto Import)  
‚úÖ ‡∏°‡∏µ Alert ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏õ‡∏ä‡πâ‡∏≤ / ‡∏•‡πà‡∏°  
‚úÖ ‡∏™‡πà‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤ Email  

---

## üß∞ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°

- Docker
- Docker Compose (‡∏´‡∏£‡∏∑‡∏≠ `docker compose` ‡∏£‡∏∏‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà)
- Git

‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô:

```bash
docker --version
docker compose version


---

## üóÇ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å
```md
go-monitoring-stack/
‚îÇ
‚îú‚îÄ .env
‚îú‚îÄ docker-compose.yml
‚îú‚îÄ prometheus.yml
‚îú‚îÄ alert.rules.yml
‚îú‚îÄ alertmanager.yml
‚îÇ
‚îú‚îÄ grafana/
‚îÇ  ‚îî‚îÄ provisioning/
‚îÇ      ‚îú‚îÄ datasources/
‚îÇ      ‚îÇ   ‚îî‚îÄ datasource.yml
‚îÇ      ‚îî‚îÄ dashboards/
‚îÇ          ‚îú‚îÄ dashboard.yml
‚îÇ          ‚îî‚îÄ go-app-dashboard.json
‚îÇ
‚îî‚îÄ app/
    ‚îú‚îÄ go.mod
    ‚îú‚îÄ main.go
    ‚îî‚îÄ Dockerfile
```

---

## üîß 1. ‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏ß‡∏°

## `.env`
‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î ‡πÄ‡∏ä‡πà‡∏ô

- Port ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ service
- Username/Password ‡∏Ç‡∏≠‡∏á Grafana
- Email ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ö Alert

**‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤ config ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö**

---

## `docker-compose.yml`
‡πÑ‡∏ü‡∏•‡πå‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡∏ó‡∏∏‡∏Å container

| Service | ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà |
|--------|---------|
| go-app | ‡πÅ‡∏≠‡∏õ Go ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ |
| prometheus | ‡πÄ‡∏Å‡πá‡∏ö metrics |
| grafana | ‡πÅ‡∏™‡∏î‡∏á dashboard |
| alertmanager | ‡∏™‡πà‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô |

**‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠**
- ‡πÄ‡∏û‡∏¥‡πà‡∏° service ‡πÉ‡∏´‡∏°‡πà
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô image
- ‡πÄ‡∏û‡∏¥‡πà‡∏° volume / network

---

## üìä 2. ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á Prometheus

## `prometheus.yml`
‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤ Prometheus ‡∏à‡∏∞‡πÑ‡∏õ‡∏î‡∏∂‡∏á metrics ‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô

```yaml
scrape_configs:
  - job_name: "go-app"
    static_configs:
      - targets: ["go-app:8080"]
```
**‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠**
- ‡πÄ‡∏û‡∏¥‡πà‡∏° server ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ monitor
- ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏Å‡∏≤‡∏£ scrape

## `alert.rules.yml`
‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (Alert Logic)

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:

‡πÅ‡∏≠‡∏õ‡∏•‡πà‡∏°

Latency ‡∏™‡∏π‡∏á

P95 response time ‡∏™‡∏π‡∏á

**‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠**
- ‡πÄ‡∏û‡∏¥‡πà‡∏° Alert ‡πÉ‡∏´‡∏°‡πà
- ‡∏õ‡∏£‡∏±‡∏ö threshold
---

## üì¨ 3. ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á Alertmanage

## `alertmanager.yml`
‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏™‡πà‡∏á Alert ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô (‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ Email)

```yaml
receivers:
  - name: 'email-alert'
    email_configs:
      - to: '${ALERT_EMAIL_TO}'
```
**‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠**
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö
- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏∑‡πà‡∏ô ‡πÄ‡∏ä‡πà‡∏ô Slack
---

## üìà 4.  ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á Grafana (Dashboard ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)

‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Grafana ‡∏ï‡∏≠‡∏ô container start
grafana/provisioning/

## `datasources/datasource.yml`
‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ Grafana ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö Prometheus ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

- ‡πÅ‡∏Å‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠ URL Prometheus ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô

## `dashboards/dashboard.yml`

- ‡∏ö‡∏≠‡∏Å Grafana ‡πÉ‡∏´‡πâ‡πÇ‡∏´‡∏•‡∏î dashboard ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå JSON
- ‡∏õ‡∏Å‡∏ï‡∏¥‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡∏ö‡πà‡∏≠‡∏¢

## `dashboards/go-app-dashboard.json`
‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ Dashboard ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

**‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠**
- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏£‡∏≤‡∏ü‡πÉ‡∏´‡∏°‡πà
- ‡∏õ‡∏£‡∏±‡∏ö Query
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô 
---

## üß© 5. ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á Go Application

‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå app/ ‡∏Ñ‡∏∑‡∏≠‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏≠‡∏õ‡∏à‡∏£‡∏¥‡∏á
## main.go

‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á
- HTTP Server
- Custom Metrics
- /metrics endpoint ‡πÉ‡∏´‡πâ Prometheus

**‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠**
- ‡πÄ‡∏û‡∏¥‡πà‡∏° API
- ‡πÄ‡∏û‡∏¥‡πà‡∏° metrics ‡πÉ‡∏´‡∏°‡πà
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô logic ‡πÅ‡∏≠‡∏õ

## go.mod

‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ dependencies ‡∏Ç‡∏≠‡∏á Go
‡∏õ‡∏Å‡∏ï‡∏¥‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÄ‡∏≠‡∏á ‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏° library 

## Dockerfile
‡πÉ‡∏ä‡πâ build Go app ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô container

**‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠**
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô Go
- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô 
---